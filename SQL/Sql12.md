###### <SQL 첫걸음>(아사이 아츠시 지음) 공부 내용

### 산술연산

#### 사칙연산
산술 연산자
* \+ : 덧셈
* \- : 뺄셈
* \* : 곱셈
* \/ : 나눗셈 -> 몫만 표시
* \% : 나눗셈의 나머지(1%2 = 1)

산술 연산자의 우선순위
* 1순위: \*, \/, \%
* 2순위: \+, \-
* 우선순위가 같다면 왼쪽에서 오른쪽으로 계산

#### SELECT 구
* SELECT 구에는 보통 열 이름을 지정하지만 식을 기술할 수도 있음
* 여기서 식이란, 열 이름과 연산자, 상수로 구성됨

```
SELECT 식1, 식2 ... FROM 테이블명;
```

```
(가격 * 개수)라는 새로운 열이 생성됨
(예시) SELECT *, 가격 * 개수 FROM 테이블명;
```

#### 열의 별명

위에서 사용한 예시를 해보면 이름이 그대로 (가격 * 개수) 이렇게 표시된다. 이럴 때 별명을 붙여줄 수 있다.
* AS 별명 
* AS는 예약어임
* AS는 생략 가능함
* 한글로 별명을 지정하고 싶을 땐 쌍따옴표("")로 감싸줘야 오작동하지 않는다.(한글 뿐 아니라 아스키 문자 이외의 것을 사용할 경우)
  * 쌍따옴표("")는 데이터베이스 객체의 이름, 작은따옴표('')는 문자열 상수
  * 예약어는 쌍따옴표로 감싸면 이름에 사용이 가능함

```
(가격 * 개수)라는 새로운 열에 별명을 붙이려면 [AS 별명]을 적어주면 된다.
그럼 표에서 열이름이 지정한 별명으로 출력된다. 
(예시) SELECT *, 가격 * 개수 AS amount FROM 테이블명
```

#### WHERE 구
* 연산한 결과의 값에 대한 조건에 맞는 행을 검색할 때 사용

```
SELECT 가격 * 개수 FROM 테이블명 WHERE 가격 * 개수 >= 1000;
```

* 단, 열 이름에 별명을 붙이고 해당 별명을 조건식에서 사용할 수 없음.
* WHERE 구가 먼저 처리되고 SELECT 구가 처리되기 때문

```
SELECT 가격 * 개수 AS amount FROM 테이블명 WHERE amount >= 1000;
-> 에러남! 별명일 지정하기 전에 조건 먼저 확인하기 때문임
```

#### NULL 값 연산
* NULL은 어떤 연산을 해도 결과는 NULL이다.
* 에러도 나지않고 NULL을 반환한다.

#### ORDER BY 구
* 연산 결과에 따라 정렬하고자 할 때 사용
* ORDER BY 구는 SELECT 구 다음에 처리되기 때문에 SELECT 구에서 지정한 열의 별명을 사용할 수 있음

```
SELECT 가격 * 개수 AS amount FROM 테이블명 ORDER BY amount desc;
-> amount 내림차순
```

### WHERE 구 -> SELECT 구 -> ORDER BY 구 순서로 처리됨!!

#### 함수
* 함수는 함수 이름에 따라 연산 방법이 결정됨
* 연산자에서 %를 함수로 표현하고자 하면, MOD 함수를 사용하면 됨
* 함수는 1개 이상의 파라미터를 필요로 함

#### ROUND 함수
* 소수점이 있는 숫자를 반올림하고자 할 때 사용

```
SELECT amount, ROUND(amount) FROM 테이블명;
-> amount에 1.83, 3.14와 같은 수가 들어있다고 가정했을 때, ROUND(amount) 열에서는 2, 3 같이 amount의 값을 반올림한 수가 표시됨
```

* ROUND(열이름) : 소수 첫째자리에서 반올림하여 정수만 표시
* ROUND(열이름, 자릿수) : 자릿수에서 반올림(0 = 소수점 첫째 자리)
  * ROUND(열이름, 0): 3.14 -> 3
  * ROUND(열이름, 1): 3.14 -> 3.1
  * ROUND(열이름, 2): 3.146 -> 3.15
* 음수도 가능
  * ROUND(열이름, -1): 513 -> 510
  * ROUND(열이름, -2): 513 -> 500